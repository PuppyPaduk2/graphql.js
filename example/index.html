<html>
  <head>
    <script src="../graphql.min.js"></script>
    <script>
      var graph = new GraphQLClient("http://localhost:3000/graphql", {
        fragments: {
          login: {
            auth: "on User {token, hasPin}"
          }
        }
      })

      // var listTodos = graph.query(`{ allTodos(orderBy: "date") { ...todo } }`)

      // graph.fragment({x: {y: {error: `on Error { messages }`}}})

      graph.fragment({
        fatih: {
          a: "on Error {messages}"
        }
      })

      graph.fragment({
        fatih: {
          b: "on Error {messages}"
        }
      })

      var login = graph.query(`(@autotype) {
        auth(email: $email, password: $password) {
          ... login.auth
          ... fatih.b
        }
      }`)

      login({
        email: "p@protel.com.tr",
        password: "12345678",
      }).then(function (response) {
        console.log(response)
      })
    </script>
  </head>
  <body>
    
  </body>
</html>