<html>
  <head>
    <script src="../graphql.js"></script>
    <script>
      var graph = graphql("https://8f0a24.pod-1.api-dev.simprapos.com/admin", {
        alwaysAutodeclare: true,
        asJSON: true,
        debug: true,
        headers: {
          'Auth-Token': 'VXNlcjpmYTc4MDBkNzcyYzUwNGNhN2E4NGFkYzM4N2ZkMzE5Mw=='
        },
        fragments: {
          tax: "on Tax { id, name }",
          reason: "on Reason { id, name }"
        }
      })

      var allTaxes = graph.query(`
        taxes(with_inactive: true) {
          ... tax
        }
      `)

      var allReasons = graph.query(`
        reasons(with_inactive: true, kind: [returned, cancelled]) {
          ... reason
        }
      `)

      allTaxes.merge('fetchAll').then(function (response) {
        console.log('Taxes', response)
      })

      allReasons.merge('fetchAll').then(function (response) {
        console.log('Reasons', response)
      })

      setTimeout(function () {
        graph.commit('fetchAll')
      }, 1000)

    </script>
  </head>
  <body>

  </body>
</html>